<!DOCTYPE html>
<html lang="ar" dir="rtl" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<body>
<aside class="sidebar" th:fragment="navigation">
    <div class="sidebar-header">
        <h3 class="org-name" th:text="${activeOrganization != null ? activeOrganization.name : 'المؤسسة'}">المؤسسة</h3>
        <button type="button" class="sidebar-toggle" onclick="toggleSidebar()">☰</button>
    </div>
    <div class="sidebar-org">
        <div class="muted">وظائف عامة</div>
        <div class="sidebar-common tree">
            <a class="tree-link" href="/">الصفحة الرئيسية</a>
            <a class="tree-link" href="/setup/organization">معالج الإعداد</a>
            <span class="dimmed" sec:authorize="!isAuthenticated()">تسجيل الدخول لتفعيل الخدمات</span>
        </div>
    </div>
    <div class="tree">
        <details open>
            <summary>1) المؤسسة</summary>
            <ul>
                <li sec:authorize="!isAuthenticated()"><span class="dimmed">عرض / تعديل / حذف ناعم المؤسسة</span></li>
                <li sec:authorize="hasAnyRole('ADMIN','HR_MANAGER','HR_EMPLOYEE')">
                    <a href="/admin/organizations">إدارة المؤسسة</a>
                    <span class="op-tag">عرض</span><span class="op-tag">تعديل</span><span class="op-tag">حذف ناعم</span>
                </li>
                <li sec:authorize="!isAuthenticated()"><span class="dimmed">إضافة مؤسسة</span></li>
                <li sec:authorize="hasAnyRole('ADMIN','HR_MANAGER','HR_EMPLOYEE')"><a href="/admin/organizations/new">إضافة مؤسسة</a><span class="op-tag">إضافة</span></li>
            </ul>
        </details>
        <details open>
            <summary>2) الفروع</summary>
            <ul>
                <li sec:authorize="!isAuthenticated()"><span class="dimmed">عرض / تعديل / حذف ناعم الفروع</span></li>
                <li sec:authorize="hasAnyRole('ADMIN','HR_MANAGER','HR_EMPLOYEE')">
                    <a href="/admin/branches">إدارة الفروع</a>
                    <span class="op-tag">عرض</span><span class="op-tag">تعديل</span><span class="op-tag">حذف ناعم</span>
                </li>
                <li sec:authorize="!isAuthenticated()"><span class="dimmed">إضافة فرع</span></li>
                <li sec:authorize="hasAnyRole('ADMIN','HR_MANAGER','HR_EMPLOYEE')"><a href="/admin/branches/new">إضافة فرع</a><span class="op-tag">إضافة</span></li>
            </ul>
        </details>
        <details open>
            <summary>3) الأقسام</summary>
            <ul>
                <li sec:authorize="!isAuthenticated()"><span class="dimmed">عرض / تعديل / حذف ناعم الأقسام</span></li>
                <li sec:authorize="hasAnyRole('ADMIN','HR_MANAGER','HR_EMPLOYEE')">
                    <a href="/admin/departments">إدارة الأقسام</a>
                    <span class="op-tag">عرض</span><span class="op-tag">تعديل</span><span class="op-tag">حذف ناعم</span>
                </li>
                <li sec:authorize="!isAuthenticated()"><span class="dimmed">إضافة قسم</span></li>
                <li sec:authorize="hasAnyRole('ADMIN','HR_MANAGER','HR_EMPLOYEE')"><a href="/admin/departments/new">إضافة قسم</a><span class="op-tag">إضافة</span></li>
            </ul>
        </details>
        <details open>
            <summary>4) المسميات الوظيفية</summary>
            <ul>
                <li sec:authorize="!isAuthenticated()"><span class="dimmed">عرض / تعديل / حذف ناعم المسميات</span></li>
                <li sec:authorize="hasAnyRole('ADMIN','HR_MANAGER','HR_EMPLOYEE')">
                    <a href="/admin/job-titles">إدارة المسميات</a>
                    <span class="op-tag">عرض</span><span class="op-tag">تعديل</span><span class="op-tag">حذف ناعم</span>
                </li>
                <li sec:authorize="!isAuthenticated()"><span class="dimmed">إضافة مسمى</span></li>
                <li sec:authorize="hasAnyRole('ADMIN','HR_MANAGER','HR_EMPLOYEE')"><a href="/admin/job-titles/new">إضافة مسمى</a><span class="op-tag">إضافة</span></li>
            </ul>
        </details>
        <details open>
            <summary>5) مستويات الاعتماد وسياسات الوصول</summary>
            <ul>
                <li sec:authorize="!isAuthenticated()"><span class="dimmed">مستويات الاعتماد</span></li>
                <li sec:authorize="hasAnyRole('ADMIN','HR_MANAGER','HR_EMPLOYEE')">
                    <a href="/admin/approvals">مستويات الاعتماد</a>
                    <span class="op-tag">عرض</span><span class="op-tag">تعديل</span><span class="op-tag">حذف ناعم</span>
                </li>
                <li sec:authorize="!isAuthenticated()"><span class="dimmed">سياسات الوصول</span></li>
                <li sec:authorize="hasAnyRole('ADMIN','HR_MANAGER','HR_EMPLOYEE')">
                    <a href="/admin/access-policies">سياسات الوصول</a>
                    <span class="op-tag">عرض</span><span class="op-tag">تعديل</span><span class="op-tag">حذف ناعم</span>
                </li>
            </ul>
        </details>
        <details open>
            <summary>6) الحضور والطلبات</summary>
            <ul>
                <li sec:authorize="!isAuthenticated()"><span class="dimmed">قواعد الحضور</span></li>
                <li sec:authorize="hasAnyRole('ADMIN','HR_MANAGER','HR_EMPLOYEE')">
                    <a href="/admin/rules">قواعد الحضور</a>
                    <span class="op-tag">عرض</span><span class="op-tag">تعديل</span><span class="op-tag">حذف ناعم</span>
                </li>
                <li sec:authorize="!isAuthenticated()"><span class="dimmed">سجلات الحضور</span></li>
                <li sec:authorize="hasAnyRole('ADMIN','HR_MANAGER','HR_EMPLOYEE')">
                    <a href="/admin/attendance">سجلات الحضور</a>
                    <span class="op-tag">عرض</span><span class="op-tag">إضافة</span><span class="op-tag">حذف ناعم</span>
                </li>
                <li sec:authorize="!isAuthenticated()"><span class="dimmed">حد التنبيه</span></li>
                <li sec:authorize="hasAnyRole('ADMIN','HR_MANAGER','HR_EMPLOYEE','MANAGER','BRANCH_MANAGER','TRAINING_MANAGER','SECURITY')">
                    <a href="/admin/attendance-limit">حد تنبيه الحضور</a>
                    <span class="op-tag">عرض</span><span class="op-tag">تعديل</span>
                </li>
                <li sec:authorize="!isAuthenticated()"><span class="dimmed">أنواع الإجازات</span></li>
                <li sec:authorize="hasAnyRole('ADMIN','HR_MANAGER','HR_EMPLOYEE')">
                    <a href="/admin/leave-types">أنواع الإجازات</a>
                    <span class="op-tag">عرض</span><span class="op-tag">تعديل</span><span class="op-tag">حذف ناعم</span>
                </li>
                <li sec:authorize="!isAuthenticated()"><span class="dimmed">طلبات الإجازات</span></li>
                <li sec:authorize="hasAnyRole('ADMIN','HR_MANAGER','HR_EMPLOYEE')">
                    <a href="/admin/leaves">طلبات الإجازات</a>
                    <span class="op-tag">عرض</span><span class="op-tag">اعتماد</span><span class="op-tag">حذف ناعم</span>
                </li>
                <li sec:authorize="hasAnyRole('EMPLOYEE','MANAGER','BRANCH_MANAGER','TRAINING_MANAGER','SECURITY')"><a href="/employee/leaves">طلبات الإجازات (موظف)</a></li>
                <li sec:authorize="!isAuthenticated()"><span class="dimmed">طلبات المأموريات</span></li>
                <li sec:authorize="hasAnyRole('ADMIN','HR_MANAGER','HR_EMPLOYEE')">
                    <a href="/admin/missions">طلبات المأموريات</a>
                    <span class="op-tag">عرض</span><span class="op-tag">اعتماد</span><span class="op-tag">حذف ناعم</span>
                </li>
                <li sec:authorize="hasAnyRole('EMPLOYEE','MANAGER','BRANCH_MANAGER','TRAINING_MANAGER','SECURITY')"><a href="/employee/missions">طلبات المأموريات (موظف)</a></li>
                <li sec:authorize="!isAuthenticated()"><span class="dimmed">طلبات الأذونات</span></li>
                <li sec:authorize="hasAnyRole('ADMIN','HR_MANAGER','HR_EMPLOYEE')">
                    <a href="/admin/permits">طلبات الأذونات</a>
                    <span class="op-tag">عرض</span><span class="op-tag">اعتماد</span><span class="op-tag">حذف ناعم</span>
                </li>
                <li sec:authorize="hasAnyRole('EMPLOYEE','MANAGER','BRANCH_MANAGER','TRAINING_MANAGER','SECURITY')"><a href="/employee/permits">طلبات الأذونات (موظف)</a></li>
            </ul>
        </details>
        <details open>
            <summary>7) فريق الموارد البشرية</summary>
            <ul>
                <li sec:authorize="!isAuthenticated()"><span class="dimmed">عرض / تعديل / حذف ناعم الموظفين</span></li>
                <li sec:authorize="hasAnyRole('ADMIN','HR_MANAGER','HR_EMPLOYEE')">
                    <a href="/admin/employees">إدارة الموظفين</a>
                    <span class="op-tag">عرض</span><span class="op-tag">تعديل</span><span class="op-tag">حذف ناعم</span>
                </li>
                <li sec:authorize="!isAuthenticated()"><span class="dimmed">إضافة موظف</span></li>
                <li sec:authorize="hasAnyRole('ADMIN','HR_MANAGER','HR_EMPLOYEE')"><a href="/admin/employees/new">إضافة موظف</a><span class="op-tag">إضافة</span></li>
            </ul>
        </details>
        <details>
            <summary>بوابات وإدارات إضافية</summary>
            <ul>
                <li sec:authorize="!isAuthenticated()"><span class="dimmed">لوحة المدير</span></li>
                <li sec:authorize="hasAnyRole('MANAGER','BRANCH_MANAGER','TRAINING_MANAGER')"><a href="/manager/dashboard">لوحة المدير</a></li>
                <li sec:authorize="!isAuthenticated()"><span class="dimmed">بوابة الموظف</span></li>
                <li sec:authorize="hasAnyRole('EMPLOYEE','HR_EMPLOYEE','HR_MANAGER','ADMIN','SECURITY','MANAGER','BRANCH_MANAGER','TRAINING_MANAGER')"><a href="/employee/portal">بوابة الموظف</a></li>
            </ul>
        </details>
    </div>
</aside>
</body>
</html>
