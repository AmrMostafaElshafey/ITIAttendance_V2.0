<!DOCTYPE html>
<html lang="ar" dir="rtl" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<body>
<aside class="sidebar" th:fragment="navigation">
    <div class="sidebar-header">
        <h3>خدمات النظام</h3>
        <button type="button" class="sidebar-toggle" onclick="toggleSidebar()">☰</button>
    </div>
    <div class="tree">
        <details open sec:authorize="hasAnyRole('ADMIN','HR_MANAGER','HR_EMPLOYEE')">
            <summary>تهيئة الهيكل</summary>
            <ul>
                <li><a href="/admin/organizations">عرض المؤسسة</a></li>
                <li><a href="/admin/organizations/new">إضافة مؤسسة</a></li>
            </ul>
        </details>
        <details open sec:authorize="hasAnyRole('ADMIN','HR_MANAGER','HR_EMPLOYEE')">
            <summary>الفروع</summary>
            <ul>
                <li><a href="/admin/branches">عرض الفروع</a></li>
                <li><a href="/admin/branches/new">إضافة فرع</a></li>
                <li><a href="/admin/branches">تعديل فرع</a></li>
                <li><a href="/admin/branches">حذف فرع (ناعم)</a></li>
            </ul>
        </details>
        <details open sec:authorize="hasAnyRole('ADMIN','HR_MANAGER','HR_EMPLOYEE')">
            <summary>الأقسام</summary>
            <ul>
                <li><a href="/admin/departments">عرض الأقسام</a></li>
                <li><a href="/admin/departments/new">إضافة قسم</a></li>
                <li><a href="/admin/departments">تعديل قسم</a></li>
                <li><a href="/admin/departments">حذف قسم (ناعم)</a></li>
            </ul>
        </details>
        <details open sec:authorize="hasAnyRole('ADMIN','HR_MANAGER','HR_EMPLOYEE')">
            <summary>المسميات الوظيفية</summary>
            <ul>
                <li><a href="/admin/job-titles">عرض المسميات</a></li>
                <li><a href="/admin/job-titles/new">إضافة مسمى</a></li>
                <li><a href="/admin/job-titles">تعديل مسمى</a></li>
                <li><a href="/admin/job-titles">حذف مسمى (ناعم)</a></li>
            </ul>
        </details>
        <details open sec:authorize="hasAnyRole('ADMIN','HR_MANAGER','HR_EMPLOYEE')">
            <summary>الموظفون</summary>
            <ul>
                <li><a href="/admin/employees">عرض الموظفين</a></li>
                <li><a href="/admin/employees/new">إضافة موظف</a></li>
                <li><a href="/admin/employees">تعديل موظف</a></li>
                <li><a href="/admin/employees">حذف موظف (ناعم)</a></li>
            </ul>
        </details>
        <details open sec:authorize="hasAnyRole('ADMIN','HR_MANAGER','HR_EMPLOYEE')">
            <summary>قواعد الحضور</summary>
            <ul>
                <li><a href="/admin/rules">عرض القواعد</a></li>
                <li><a href="/admin/rules/new">إضافة قاعدة</a></li>
                <li><a href="/admin/rules">تعديل قاعدة</a></li>
                <li><a href="/admin/rules">حذف قاعدة (ناعم)</a></li>
            </ul>
        </details>
        <details open sec:authorize="hasAnyRole('ADMIN','HR_MANAGER','HR_EMPLOYEE')">
            <summary>سجلات الحضور</summary>
            <ul>
                <li><a href="/admin/attendance">عرض السجلات</a></li>
                <li><a href="/admin/attendance/new">إضافة سجل</a></li>
                <li><a href="/admin/attendance">تعديل سجل</a></li>
                <li><a href="/admin/attendance">حذف سجل (ناعم)</a></li>
            </ul>
        </details>
        <details sec:authorize="hasAnyRole('ADMIN','HR_MANAGER','HR_EMPLOYEE','MANAGER','BRANCH_MANAGER','TRAINING_MANAGER','SECURITY')">
            <summary>حد تنبيه الحضور</summary>
            <ul>
                <li><a href="/admin/attendance-limit">عرض/تعديل الحد</a></li>
            </ul>
        </details>
        <details open sec:authorize="hasAnyRole('ADMIN','HR_MANAGER','HR_EMPLOYEE')">
            <summary>أنواع الإجازات</summary>
            <ul>
                <li><a href="/admin/leave-types">عرض الأنواع</a></li>
                <li><a href="/admin/leave-types/new">إضافة نوع</a></li>
                <li><a href="/admin/leave-types">تعديل نوع</a></li>
                <li><a href="/admin/leave-types">حذف نوع (ناعم)</a></li>
            </ul>
        </details>
        <details open sec:authorize="hasAnyRole('ADMIN','HR_MANAGER','HR_EMPLOYEE','MANAGER','BRANCH_MANAGER','TRAINING_MANAGER')">
            <summary>طلبات الإجازات والمأموريات</summary>
            <ul>
                <li><a href="/admin/leaves">عرض الطلبات</a></li>
                <li><a href="/admin/leaves/new">إضافة طلب</a></li>
                <li><a href="/admin/leaves">تعديل طلب</a></li>
                <li><a href="/admin/leaves">حذف طلب (ناعم)</a></li>
            </ul>
        </details>
        <details open sec:authorize="hasAnyRole('ADMIN','HR_MANAGER','HR_EMPLOYEE')">
            <summary>مستويات الاعتماد</summary>
            <ul>
                <li><a href="/admin/approvals">عرض المستويات</a></li>
                <li><a href="/admin/approvals/new">إضافة مستوى</a></li>
                <li><a href="/admin/approvals">تعديل مستوى</a></li>
                <li><a href="/admin/approvals">حذف مستوى (ناعم)</a></li>
            </ul>
        </details>
        <details open sec:authorize="hasAnyRole('ADMIN','HR_MANAGER','HR_EMPLOYEE')">
            <summary>سياسات الوصول</summary>
            <ul>
                <li><a href="/admin/access-policies">عرض السياسات</a></li>
                <li><a href="/admin/access-policies/new">إضافة سياسة</a></li>
                <li><a href="/admin/access-policies">تعديل سياسة</a></li>
                <li><a href="/admin/access-policies">حذف سياسة (ناعم)</a></li>
            </ul>
        </details>
        <details sec:authorize="hasAnyRole('MANAGER','BRANCH_MANAGER','TRAINING_MANAGER')">
            <summary>إدارة الفرق</summary>
            <ul>
                <li><a href="/manager/dashboard">لوحة المدير</a></li>
            </ul>
        </details>
        <details sec:authorize="hasAnyRole('EMPLOYEE','HR_EMPLOYEE','HR_MANAGER','ADMIN','SECURITY','MANAGER','BRANCH_MANAGER','TRAINING_MANAGER')">
            <summary>بوابة الموظفين</summary>
            <ul>
                <li><a href="/employee/portal">بوابة الموظف</a></li>
                <li><a href="/logout">تسجيل الخروج</a></li>
            </ul>
        </details>
        <details sec:authorize="isAnonymous()">
            <summary>دخول وتسجيل</summary>
            <ul>
                <li><a href="/login">تسجيل الدخول</a></li>
                <li><a href="/register">تسجيل موظف جديد</a></li>
            </ul>
        </details>
    </div>
</aside>
</body>
</html>
